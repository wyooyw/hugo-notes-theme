# 字节序

### 1.基本概念

字节序分为大印第安序和小印第安序

对于一个多字节的数：
- 大印第安序：高字节在低地址，低字节在高地址；
- 小印第安序：高字节在高地址，低字节在低地址




### 2.举例

以下表头均为以比特位单位的内存地址，左侧是低地址，右侧是高地址

#### 例1：

一个int16类型的有符号整数：515

小印第安序：

| 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    |

大印第安序：

| 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    |

可以看到，在小印第安序中，低字节“00000011”存在低地址0-7，高字节“00000010”存在高地址8-15

而在大印第安序中，低字节“00000011”存在高地址8-15，低字节“00000010”存在高地址0-7

同时，在两种情况里，字节内的比特序均是相同的。

#### 例2：

一个int8类型的有符号整数：7

其在大、小印第安序下，完全相同

| 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    |

#### 例3：numpy tofile

numpy里，ndarray的tofile方法可以将张量以二进制形式存到文件中。

首先考虑如下程序：

```python
import numpy as np
arr = np.array([515,7],dtype=np.int16)
arr.tofile("int.bin")
```

使用hex editor neo软件打开该二进制文件：

![](字节序-1670145319733.jpeg)

通过观察可以发现，tofile方法是以小印第安序存储的。

同时，数组中的多个元素是从低地址到高地址依次摆放的。

接下来，在菜单中选择view，然后将"group by"设成“words”，将“byte order”设成“little endian”，将“display as”设成“demical”，可观察到我们的两个十进制数：

![](字节序-1670145481886.jpeg)




### 3.注意

“大印第安”和“小印第安”均针对字节序，**而不是字节内的比特序**！